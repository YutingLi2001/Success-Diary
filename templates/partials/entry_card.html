<!-- Shared Entry Card Template -->
<!-- Usage: include this with entry, user, and action_type context -->
<a href="/entries/{{ entry.id }}/view" class="block bg-white border border-gray-200 rounded-lg hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 cursor-pointer entry-card"
   data-content="{{ entry.success_1 }} {{ entry.gratitude_1 }} {{ entry.anxiety_1 }} {{ entry.journal or '' }}">
  
  <!-- Header -->
  <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-400 p-4 rounded-t-lg">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-2">
      <div class="flex flex-col">
        <div class="font-semibold text-gray-800 text-base md:text-lg">
          {% if entry.title %}
            {{ entry.title }}
          {% else %}
            <script>
              document.write(window.EntryTitles ? window.EntryTitles.generateAutoTitle('{{ entry.entry_date }}') : '{{ entry.entry_date.strftime('%B %d, %Y') }}');
            </script>
          {% endif %}
        </div>
        <div class="text-sm text-gray-600">{{ entry.entry_date.strftime('%A, %B %d, %Y') }}</div>
        {% if action_type == 'archive' %}
          <div class="text-xs text-orange-600 font-medium mt-1">
            Archived {{ format_user_timestamp(user, entry.archived_at).split(',')[0] }}
            {% if entry.archived_reason %}
              • <span class="px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs ml-1">{{ entry.archived_reason.replace('_', ' ').title() }}</span>
            {% endif %}
          </div>
        {% elif entry.was_edited %}
          <div class="text-xs text-gray-500 mt-1">
            Created: {{ format_user_timestamp(user, entry.created_at, 'short') }} • 
            Edited: {{ format_user_timestamp(user, entry.updated_at, 'short') }}
          </div>
        {% else %}
          <div class="text-xs text-gray-500 mt-1">
            Created: {{ format_user_timestamp(user, entry.created_at, 'short') }}
          </div>
        {% endif %}
      </div>
      <div class="flex items-center gap-3">
        <span class="bg-purple-100 text-purple-800 px-3 py-1.5 rounded-full text-sm font-medium">{{ entry.score }}/5</span>
      </div>
    </div>
  </div>
  
</a>